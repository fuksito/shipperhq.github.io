---
sidebar_position: 10
slug: how-labels-work
title: How Labels Work
tags: [labels, api, guide, overview]
---

The ShipperHQ Labels API can be used to produce shipping labels but it is much more powerful when combined with the ShipperHQ [Rates API](rates/overview.md) and [Insights API](insights/overview.md). At a minimum, the Insights API must be implemented in order to support storing shipment information used to produce labels.

:::caution Early Access Program

The ShipperHQ Labels API is currently in closed Beta. ShipperHQ is looking for early access partners interested in participating in this program.
Please [contact us](/contact) if interested.

:::

## High level overview

The Labels API is the final API in the standard ShipperHQ workflow. The [Rates API](rates/overview.md) can be used to provide shipping rates (e.g. in an eCommerce checkout), the [Insights API](insights/overview.md) is used to retrieve the detailed shipment information generated by ShipperHQ when providing shipping rates. Finally, the Labels API can be used to produce the shipping labels needed for the shipment.

### Workflow
![High Level Workflow](./complete-rate-insight-label-process.jpg)

## Recommended Workflow

While the ShipperHQ APIs can be used in various ways, our recommended workflow for label printing is described below.

### 1. Get Rates

Generating shipping rates with ShipperHQ for orders where you'll be using ShipperHQ to print rates makes for the easiest workflow.

[See the Rates API Guide <i class="fa fa-arrow-right"></i>](rates/overview.md)

### 2. Retrieve Insights

When you're ready to produce a shipping label, use the Insights API to retrieve the shipment information generated by ShipperHQ.

[See the Insights API Guide <i class="fa fa-arrow-right"></i>](insights/overview.md)

:::info

Implementation of the related [`PlaceOrder`](labels/place-order.md) mutation of the [Labels API](labels/overview.md) may be required to use Shipping Insights. However, this is only the case if you are **not** using the native ShipperHQ apps/plugins/extensions on Magento/Adobe Commerce, BigCommerce, Shopify, SalesForce B2C Commerce Cloud, WooCommerce, Zoey - [complete list here](https://shipperhq.com/pricing)). When using the native ShipperHQ integration with any of these platforms, the PlaceOrder function occurs automatically, so you can use the Insights API without implementing PlaceOrder yourself.

:::

### 3. Create Label

Using the Labels API, you can create shipping labels for packages in a shipment.

The Labels API also supports:
- **Label Printing**: Print shipping labels directly to a laser or thermal label printer using the Labels API or implement your own label printing functionality with label images retrieved from the Labels API.
- **Cancel Labels**: Easily cancel or void labels that have already been generated.
- **Create Return Labels**: Generate return labels that can be sent as digital files or printed as needed.

[Continue to the Labels API Quickstart Guide <i class="fa fa-arrow-right"></i>](quickstart.md)

## How does ShipperHQ produce labels?

ShipperHQ's labels are produced by connecting to carrier (or related) APIs using the shipper's account. This means that at least one carrier account is required in order to use the ShipperHQ Labels API.

## Key queries used for labels
The Labels API consists of the following requests:

| Request | Type                    | Description         |
| ---------------------------|---------------------|---------------------|
| `retrieveShippingQuote`  | Query  |	Retrieve basic shipping rates including carrier and method titles and total shipping charges. |
| `retrieveLastShippingQuote` | Query	| Retrieve full shipping details for the most recent shipping quote. |
| `retrieveUserSettings` | Query |	Retrieve merchantâ€™s settings like locale and currency. |
| `getFinalShippingChosen` | Query |	Returns any final shipping selections the end user has made. |
| `listPrinters` | Query |	Retrieves a list of printers which have been configured. |
| `retrieveTrackingInfo` | Query |	Retrieves tracking information for a given order. |
| `updateSelectedOptions` | Mutation |	Update cart options such as delivery dates, pickup locations, and freight accessorials. |
| `storeFinalShippingChosen` | Mutation |	Submit finalized shipping selections for this cart. |
| [`placeOrder`](place-order.md) | Mutation |	Convert the cart into an order. |
| `resetShippingChosen` | Mutation |	Reset all cart options to their original values. |
| `createSecretToken` | Mutation |	Fetch an Authentication secret. |
| `createLabel` | Mutation |	Creates a shipping label. |
| `printLabel` | Mutation |	Prints a shipping label. |
| `shippingQuoteCreated` | Subscription |	Subscribe to changes in the shipping quote. |
